{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/ysby/ysby/components/sku/pages/sku.vue?05a8","webpack:///C:/Users/Administrator/Desktop/ysby/ysby/components/sku/pages/sku.vue?d78c","webpack:///C:/Users/Administrator/Desktop/ysby/ysby/components/sku/pages/sku.vue?2ce1","webpack:///C:/Users/Administrator/Desktop/ysby/ysby/components/sku/pages/sku.vue?a354","webpack:///C:/Users/Administrator/Desktop/ysby/ysby/components/sku/pages/sku.vue","webpack:///C:/Users/Administrator/Desktop/ysby/ysby/components/sku/pages/sku.vue?68f4","webpack:///C:/Users/Administrator/Desktop/ysby/ysby/components/sku/pages/sku.vue?5ece"],"names":["props","components","stepper","data","specClass","selectArr","selectNum","categorys","choosedid","marketPrice","stock","mounted","category","Number","total","methods","skuClick","value","index1","index2","that","item","map","index","choosed","$forceUpdate","forEach","item2","push","itemid","itemtitle","getActualRest","url","goodsid","join","$apiPost","then","res","marketprice","checkInpath","clickIndex","i","len","specifications","length","len2","j","subIndex","choosed_copy","$set","name","choosed_copy2","filter","shopItemInfo","hasOwnProperty","checkItem","result","difference","reduce","arrs","items","concat","arr","getData","spuid","Promise","all","uni","request","method","err1","product","err2","speclist","err3","skulist","status","catch","e","console","log","toggleSpec","moveHandle","closeSf","setTimeout","changeNum","val","parseInt","confirmChoose","d","$emit"],"mappings":"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","file":"components/sku/pages/sku.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./sku.vue?vue&type=template&id=aad63016&\"\nvar renderjs\nimport script from \"./sku.vue?vue&type=script&lang=js&\"\nexport * from \"./sku.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sku.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"ysby/ysby/components/sku/pages/sku.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=template&id=aad63016&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.selectArr.join(\",\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport stepper from '../components/other/stepper.vue';\n// import products from '../json/product.json';\n// import skuList from '../json/skuList.json';\n// import specList from '../json/specList.json';\nexport default{\n\tprops:['category','total','goodsid'],\n\tcomponents:{\n\t\tstepper\n\t},\n\tdata() {\n\t\treturn {\n\t\t\t// product: products.product,\n\t\t\t// showSet: false,\n\t\t\t// specifications: specList.specifications, //spu规格列表\n\t\t\t// difference: skuList.difference, //sku列表\n\t\t\t// shopItemInfo: {}, //存放要和选中的值进行匹配的数据\n\t\t\t// subIndex: [], //是否选中 因为不确定是多规格还是但规格，所以这里定义数组来判断\n\t\t\t// selectshop: {}, //存放最后选中的商品\n\t\t\t\n\t\t\tspecClass: 'none',\n\t\t\tselectArr: [], //存放被选中的值\n\t\t\tselectNum: 1 ,//选中数量,\n\t\t\t// \n\t\t\tcategorys:'',\n\t\t\tchoosedid:[],\n\t\t\tmarketPrice:'',\n\t\t\tstock:''\n\t\t};\n\t},\n\t// computed: {\n\t// \tcanCount() {\n\t// \t\treturn this.subIndex.some(item => item === -1);\n\t// \t}\n\t// },\n\tmounted() {\n\t\tthis.categorys=this.category\n\t\tthis.stock=Number(this.total)\n\t\t// this.specifications.map(item => {\n\t\t// \tthis.selectArr.push('');\n\t\t// \tthis.subIndex.push(-1);\n\t\t// });\n\t\t// this.checkItem(); //计算sku里面规格形成路径\n\t\t// this.checkInpath(-1); //传-1是为了不跳过循环\n\t\t// this.getData(1);\n\t},\n\tmethods: {\n\t\tskuClick(value, index1, index2) {\n\t\t\tvar that=this\n\t\t\tthis.selectNum=1\n\t\t\tthis.categorys[index1].item.map((item,index) =>{\n\t\t\t\tif(index==index2){\n\t\t\t\t\treturn item.choosed=!item.choosed\n\t\t\t\t}else{\n\t\t\t\t\treturn item.choosed=false\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.choosedid=[],this.selectArr=[]\n\t\t\tthis.$forceUpdate()\n\t\t\tthis.categorys.forEach((item,index) =>{\n\t\t\t\titem.item.forEach((item2,index2) =>{\n\t\t\t\t\tif(item2.choosed){\n\t\t\t\t\t\tthat.choosedid.push(item2.itemid)\n\t\t\t\t\t\tthat.selectArr.push(item2.itemtitle)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.getActualRest()\n\t\t\t// if (value.ishow) {\n\t\t\t// \tif (this.selectArr[index1] != value.name) {\n\t\t\t// \t\tthis.$set(this.selectArr, index1, value.name);\n\t\t\t// \t\tthis.$set(this.subIndex, index1, index2);\n\t\t\t// \t} else {\n\t\t\t// \t\tthis.$set(this.selectArr, index1, '');\n\t\t\t// \t\tthis.$set(this.subIndex, index1, -1);\n\t\t\t// \t}\n\t\t\t// \tthis.checkInpath(index1);\n\t\t\t// \t//如果全部选完\n\t\t\t// \tif (this.selectArr.every(item => item != '')) {\n\t\t\t// \t\tthis.selectshop = this.shopItemInfo[this.selectArr];\n\t\t\t// \t\tthis.selectNum = 1;\n\t\t\t// \t}\n\t\t\t// }\n\t\t},\n\t\tgetActualRest(){\n\t\t\tvar that=this\n\t\t\tvar url='&r=api.goods.detail.skustock&goodsid='+this.goodsid+'&specitemid='+this.choosedid.join(',')\n\t\t\t  this.$apiPost(url).then((res) =>{\n\t\t\t\t  that.marketPrice=res.data.marketprice\n\t\t\t\t  that.stock=Number(res.data.stock)\n\t\t\t  })\n\t\t},\n\t\tcheckInpath(clickIndex) {\n\t\t\t// console.time('筛选可选路径需要的时间是');\n\t\t\t//循环所有属性判断哪些属性可选\n\t\t\t//当前选中的兄弟节点和已选中属性不需要循环\n\t\n\t\t\tfor (let i = 0, len = this.specifications.length; i < len; i++) {\n\t\t\t\tif (i == clickIndex) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tlet len2 = this.specifications[i].item.length;\n\t\t\t\tfor (let j = 0; j < len2; j++) {\n\t\t\t\t\tif (this.subIndex[i] != -1 && j == this.subIndex[i]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tlet choosed_copy = [...this.selectArr];\n\t\t\t\t\tthis.$set(choosed_copy, i, this.specifications[i].item[j].name);\n\t\t\t\t\tlet choosed_copy2 = choosed_copy.filter(item => item !== '' && typeof item !== 'undefined');\n\t\t\t\t\tif (this.shopItemInfo.hasOwnProperty(choosed_copy2)) {\n\t\t\t\t\t\tthis.$set(this.specifications[i].item[j], 'ishow', true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$set(this.specifications[i].item[j], 'ishow', false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// console.log(this.specifications)\n\t\t\t// console.timeEnd('筛选可选路径需要的时间是');\n\t\t},\n\t\tcheckItem() {\n\t\t\t// console.time('计算有多小种可选路径需要的时间是');\n\t\t\t//计算有多小种可选路径\n\t\t\tlet result = this.difference.reduce(\n\t\t\t\t(arrs, items) => {\n\t\t\t\t\treturn arrs.concat(\n\t\t\t\t\t\titems.difference.reduce(\n\t\t\t\t\t\t\t(arr, item) => {\n\t\t\t\t\t\t\t\treturn arr.concat(\n\t\t\t\t\t\t\t\t\tarr.map(item2 => {\n\t\t\t\t\t\t\t\t\t\t//利用对象属性的唯一性实现二维数组去重\n\t\t\t\t\t\t\t\t\t\tif (!this.shopItemInfo.hasOwnProperty([...item2, item])) {\n\t\t\t\t\t\t\t\t\t\t\tthis.shopItemInfo[[...item2, item]] = items;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn [...item2, item];\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t[[]]\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\t[[]]\n\t\t\t);\n\t\t\t// console.timeEnd('计算有多小种可选路径需要的时间是');\n\t\t},\n\t\tgetData(spuid) {\n\t\t\tPromise.all([\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://www.easy-mock.com/mock/5d351e87b5e1f213739d6498/shop/productDetail',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tspuid: spuid\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://www.easy-mock.com/mock/5d351e87b5e1f213739d6498/shop/getspec',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tspuid: spuid\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tuni.request({\n\t\t\t\t\turl: 'https://www.easy-mock.com/mock/5d351e87b5e1f213739d6498/shop/getsku',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tspuid: spuid\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t])\n\t\t\t\t.then(result => {\n\t\t\t\t\tlet [[err1, product], [err2, speclist], [err3, skulist]] = result;\n\t\t\t\t\tif (product.data.status === 1) {\n\t\t\t\t\t\tthis.product = product.data.product;\n\t\t\t\t\t}\n\t\t\t\t\tif (speclist.data.status === 1) {\n\t\t\t\t\t\tthis.specifications = speclist.data.specifications;\n\t\t\t\t\t\tthis.specifications.map(item => {\n\t\t\t\t\t\t\tthis.selectArr.push('');\n\t\t\t\t\t\t\tthis.subIndex.push(-1);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tif (skulist.data.status === 1) {\n\t\t\t\t\t\tthis.difference = skulist.data.difference;\n\t\t\t\t\t\tthis.checkItem(); //计算sku里面规格形成路径\n\t\t\t\t\t\tthis.checkInpath(-1); //传-1是为了不跳过循环\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(e => console.log(e));\n\t\t},\n\t\t//规格弹窗开关\n\t\ttoggleSpec() {\n\t\t\tthis.specClass = 'show';\n\t\t},\n\t\tmoveHandle() {\n\t\t\t//禁止父元素滑动\n\t\t},\n\t\tcloseSf() {\n\t\t\tthis.specClass = 'hide';\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.specClass = 'none';\n\t\t\t}, 250);\n\t\t},\n\t\tchangeNum(val) {\n\t\t\tthis.selectNum = parseInt(val);\n\t\t},\n\t\tconfirmChoose(){\n\t\t\tvar d={\n\t\t\t\tselectArr:this.selectArr.join(','),\n\t\t\t\tselectNum:this.selectNum,\n\t\t\t\tchoosedid:this.choosedid\n\t\t\t}\n\t\t\tthis.$emit('completeSpecChoose',d)\n\t\t\tthis.specClass = 'hide';\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.specClass = 'none';\n\t\t\t}, 250);\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-2!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-1!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-2!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sku.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1587630932399\n      var cssReload = require(\"C:/Users/Administrator/Desktop/hbuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}