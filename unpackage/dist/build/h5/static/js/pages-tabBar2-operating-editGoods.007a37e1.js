(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabBar2-operating-editGoods"],{7770:function(t,i,e){"use strict";e.r(i);var a=e("ddfb"),n=e.n(a);for(var d in a)"default"!==d&&function(t){e.d(i,t,(function(){return a[t]}))}(d);i["default"]=n.a},8327:function(t,i,e){"use strict";var a=e("b114"),n=e.n(a);n.a},b114:function(t,i,e){var a=e("b188");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("049e1b44",a,!0,{sourceMap:!1,shadowMode:!1})},b188:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'uni-page-body[data-v-dd93dc4e]{background-color:#f3f3f3}.bottom-border[data-v-dd93dc4e]{padding:%?15?% 0;margin:%?15?% 0;border-bottom:1px solid #f7f7f7}.activity[data-v-dd93dc4e]{padding:%?15?% %?30?% %?15?% %?20?%;font-size:%?30?%;background:#fff;border-bottom:%?20?% solid #f3f3f3}.headface[data-v-dd93dc4e]{width:%?90?%;height:%?90?%;border-radius:50%}\n/* 第一套图片上传样式（内部图标相机） */.upload-image-view[data-v-dd93dc4e]{width:100%;margin:%?20?% 0 %?20?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.upload-image-view .title[data-v-dd93dc4e]{width:100%;font-family:PingFang-SC-Regular;font-size:%?24?%;color:#4a4a4a;margin-bottom:%?15?%;line-height:100%}.upload-image-view .info[data-v-dd93dc4e]{width:100%;font-family:PingFang-SC-Regular;font-size:%?24?%;color:#ff4259;height:%?24?%;margin-top:%?15?%;line-height:%?24?%}.upload-image-view .image-view[data-v-dd93dc4e]{height:%?175?%;width:%?175?%;position:relative;margin:%?15?% %?45?% %?15?% %?0?%;border-radius:%?8?%}.upload-image-view .image-view uni-image[data-v-dd93dc4e]{height:100%;width:100%;border-radius:%?8?%}.upload-image-view .image-view .del-btn[data-v-dd93dc4e]{background-color:#f67371;border-radius:50%;width:%?25?%;height:%?25?%;position:absolute;top:%?-12?%;right:%?-12?%;z-index:2;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.upload-image-view .image-view .del-btn .baicha[data-v-dd93dc4e]{display:inline-block;width:%?20?%;height:%?5?%;background:#fff;line-height:0;font-size:0;vertical-align:middle;-webkit-transform:rotate(45deg)}.upload-image-view .image-view .del-btn .baicha[data-v-dd93dc4e]:after{content:"/";display:block;width:%?20?%;height:%?5?%;background:#fff;-webkit-transform:rotate(-90deg)}.upload-image-view .add-view[data-v-dd93dc4e]{position:relative;height:%?175?%;width:%?175?%;margin:%?15?% %?15?% %?15?% %?0?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background:#f7f7f7;\n\t\t/* border: 3upx dashed #979797; */border-radius:%?8?%}\n/* 相机 */.upload-image-view .add-view .xiangji[data-v-dd93dc4e]{height:%?40?%;width:%?48?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-wrap:wrap;flex-wrap:wrap}.upload-image-view .add-view .xiangji .tixing[data-v-dd93dc4e]{width:%?10?%;height:%?7?%;background-color:#fff;border-right:%?10?% solid #fff;border-bottom:%?7?% solid #b2b2b2;border-left:%?10?% solid #fff}.upload-image-view .add-view .xiangji .changfx[data-v-dd93dc4e]{height:%?32?%;width:%?48?%;border-radius:5%;background-color:#b2b2b2;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.upload-image-view .add-view .xiangji .changfx .yuan1[data-v-dd93dc4e]{height:%?20?%;width:%?20?%;border-radius:50%;background-color:#fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.upload-image-view .add-view .xiangji .changfx .yuan2[data-v-dd93dc4e]{height:%?10?%;width:%?10?%;border-radius:50%;background-color:#b2b2b2}\n/* 第二套图片上传样式（内部图标 十字架）*/\n/* 十字架 */.upload-image-view .add-view .cross[data-v-dd93dc4e]{height:%?48?%;width:%?48?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap;position:relative}.upload-image-view .add-view .cross .transverse-line[data-v-dd93dc4e]{height:100%;width:48%;position:absolute;border-right:%?3?% solid #afafaf;top:0;left:0}.upload-image-view .add-view .cross .vertical-line[data-v-dd93dc4e]{height:48%;width:100%;position:absolute;border-bottom:%?3?% solid #afafaf;top:0;left:0}.uploads[data-v-dd93dc4e]{\n\t\t/* padding-left: 50upx; */}.tip[data-v-dd93dc4e]{position:absolute;right:0;top:0}.btn[data-v-dd93dc4e]{width:100%;height:%?75?%;background:#ff6d7e!important;border-radius:0;text-align:center;line-height:%?75?%;letter-spacing:4px;color:#fff;font-size:%?34?%}.label-80[data-v-dd93dc4e]{width:%?150?%;margin-right:%?20?%;display:inline-block;vertical-align:middle}.bottom-border>uni-view[data-v-dd93dc4e]{display:inline-block;vertical-align:middle}.bottom-border uni-textarea[data-v-dd93dc4e],\n\t.bottom-border uni-input[data-v-dd93dc4e],\n\t.radio-group[data-v-dd93dc4e],\n\t.picker[data-v-dd93dc4e]{width:%?500?%;display:inline-block}.picker[data-v-dd93dc4e]{\n\t\t/* width: 60%; */}uni-textarea[data-v-dd93dc4e]{display:inline-block;vertical-align:top}.txt[data-v-dd93dc4e]{height:%?100?%}body.?%PAGE?%[data-v-dd93dc4e]{background-color:#f3f3f3}',""]),t.exports=i},b9bf:function(t,i,e){"use strict";var a,n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"activity",staticStyle:{"margin-top":"20upx"}},[e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80",staticStyle:{"vertical-align":"top"}},[t._v("商品名称")]),e("v-uni-textarea",{staticClass:"txt",attrs:{placeholder:"请输入商品名称"},model:{value:t.data.title,callback:function(i){t.$set(t.data,"title",i)},expression:"data.title"}})],1),e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80",staticStyle:{"vertical-align":"top"}},[t._v("副标题")]),e("v-uni-input",{attrs:{placeholder:"请输入商品副标题"},model:{value:t.data.subtitle,callback:function(i){t.$set(t.data,"subtitle",i)},expression:"data.subtitle"}})],1),e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80",staticStyle:{"vertical-align":"top"}},[t._v("单位")]),e("v-uni-input",{attrs:{placeholder:"请输入商品单位"},model:{value:t.data.unit,callback:function(i){t.$set(t.data,"unit",i)},expression:"data.unit"}})],1)],1),e("v-uni-view",{staticClass:"activity"},[e("v-uni-view",{staticClass:"uploads"},[e("v-uni-view",{staticClass:"upload-image-view"},[t._l(t.imageList,(function(i,a){return[e("v-uni-view",{key:a+"_0",staticClass:"image-view"},[e("v-uni-image",{attrs:{src:i,"data-src":i},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.previewImage.apply(void 0,arguments)}}}),e("v-uni-view",{staticClass:"del-btn",attrs:{"data-index":a},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.deleteImage.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"baicha"})],1)],1)]})),t.imageList.length<t.imageLength?e("v-uni-view",{staticClass:"add-view",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.chooseImage.apply(void 0,arguments)}}},[e("v-uni-text",{staticClass:"tip cg s3"},[t._v("750*350")]),e("v-uni-view",{staticClass:"cross"},[e("v-uni-view",{staticClass:"transverse-line"}),e("v-uni-view",{staticClass:"vertical-line"})],1)],1):t._e()],2)],1),e("v-uni-view",{staticClass:"s2 cg"},[t._v("首张图片为商品主图")])],1),e("v-uni-view",{staticClass:"activity s2"},[e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80 cg"},[t._v("商品类型")]),e("v-uni-text",[t._v("商品分类")]),e("v-uni-text",{staticClass:"fr s3"},[t._v("不可修改")])],1),e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80 cg"},[t._v("商品分类")]),e("v-uni-view",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.chooseLocation.apply(void 0,arguments)}}},[e("v-uni-picker",{staticClass:"picker",attrs:{value:t.cateCurrent,range:t.array,"range-key":"name"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.bindPickerChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"uni-input ",staticStyle:{display:"inline-block"}},[t._v(t._s(t.displayCate))]),e("v-uni-text",{staticClass:"icon-arrow-right iconfont fr"})],1)],1)],1),e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80 cg"},[t._v("热卖设置")]),e("v-uni-radio-group",{staticClass:"radio-group",on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.radioChange.apply(void 0,arguments)}}},[e("v-uni-text",[t._v("是")]),e("v-uni-radio",{staticStyle:{transform:"scale(0.7)"},attrs:{value:"1",checked:"1"==t.data.ishot}}),e("v-uni-text",[t._v("否")]),e("v-uni-radio",{staticStyle:{transform:"scale(0.7)"},attrs:{value:"2",checked:"2"==t.data.ishot}})],1)],1)],1),e("v-uni-view",{staticClass:"activity s2"},[e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80 cg"},[t._v("价格")]),e("v-uni-input",{staticStyle:{"vertical-align":"middle"},attrs:{type:"text"},model:{value:t.data.marketprice,callback:function(i){t.$set(t.data,"marketprice",i)},expression:"data.marketprice"}})],1),e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80 cg"},[t._v("库存")]),e("v-uni-input",{staticStyle:{"vertical-align":"middle"},attrs:{type:"text"},model:{value:t.data.total,callback:function(i){t.$set(t.data,"total",i)},expression:"data.total"}})],1),e("v-uni-view",{staticClass:"bottom-border"},[e("v-uni-text",{staticClass:"label-80 cg"},[t._v("商品重量")]),e("v-uni-input",{staticStyle:{"vertical-align":"middle"},attrs:{type:"text"},model:{value:t.data.weight,callback:function(i){t.$set(t.data,"weight",i)},expression:"data.weight"}})],1)],1),e("v-uni-view",{staticClass:"activity flex-between"},[e("v-uni-text",{staticClass:"cg "},[t._v("商品上架")]),e("v-uni-switch",{staticClass:"fr ",staticStyle:{transform:"scale(0.7)"},attrs:{checked:"3"==t.data.goodsstatus},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.switch1Change.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"activity flex-between"},[e("v-uni-text",{staticClass:"label-80 cg"},[t._v("商品排序")]),e("v-uni-input",{staticStyle:{"text-align":"right"},attrs:{type:"text"},model:{value:t.data.displayorder,callback:function(i){t.$set(t.data,"displayorder",i)},expression:"data.displayorder"}})],1),e("v-uni-view",{staticClass:"s2 cg",staticStyle:{margin:"10upx 0","text-align":"center"}},[t._v("更多设置请至PC端后台")]),e("v-uni-view",{staticStyle:{"text-align":"center"}},[e("v-uni-button",{staticClass:"btn",attrs:{type:"default"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submit.apply(void 0,arguments)}}},[t._v("保存")])],1)],1)},d=[];e.d(i,"b",(function(){return n})),e.d(i,"c",(function(){return d})),e.d(i,"a",(function(){return a}))},db79:function(t,i,e){"use strict";e.r(i);var a=e("b9bf"),n=e("7770");for(var d in n)"default"!==d&&function(t){e.d(i,t,(function(){return n[t]}))}(d);e("8327");var s,o=e("f0c5"),l=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"dd93dc4e",null,!1,a["a"],s);i["default"]=l.exports},ddfb:function(t,i,e){"use strict";var a=e("ee27");e("99af"),e("4de4"),e("4160"),e("c975"),e("a15b"),e("a434"),e("ac1f"),e("1276"),e("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("96cf");var n=a(e("c964")),d=[["camera"],["album"],["camera","album"]],s={data:function(){return{displayCate:"",data:{},goodsid:"",uid:"",token:"",current:1,cateCurrent:0,array:["中国","美国","巴西","日本"],imageList:[],imageLength:5,sourceTypeIndex:2,sizeTypeIndex:2,lat:"",lng:"",address:"",pic:[]}},onLoad:function(t){this.goodsid=t.goodsid;var i=uni.getStorageSync("userInfo");""!=i&null!=i&void 0!=i&&(this.uid=i.uid,this.token=i.token),this.getDetail()},methods:{chooseImage:function(){var t=(0,n.default)(regeneratorRuntime.mark((function t(){var i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.chooseImage({sourceType:d[this.sourceTypeIndex],count:this.imageLength-this.imageList.length,success:function(t){i.imageList=i.imageList.concat(t.tempFilePaths)}});case 1:case"end":return t.stop()}}),t,this)})));function i(){return t.apply(this,arguments)}return i}(),previewImage:function(t){var i=t.target.dataset.src;uni.previewImage({current:i,urls:this.imageList})},deleteImage:function(t){var i=t.target.dataset.index,e=this,a=e.imageList;a.splice(i,1),e.imageList=a},chooseLocation:function(){var t=this;uni.chooseLocation({success:function(i){t.lat=i.latitude,t.lng=i.longitude,t.address=i.name}})},switch1Change:function(t){var i=t.detail.value;this.data.goodsstatus=i?"3":"5"},radioChange:function(t){var i=t.detail.value;this.data.ishot=i},bindPickerChange:function(t){var i=t.detail.value;this.displayCate=this.array[i].name,this.data.cates=this.array[i].id},getDetail:function(){this.$loading();var t=this,i={uid:this.uid,token:this.token,goodsid:this.goodsid},e="&r=api.myshop.goods.edit";this.$apiPost(e,i).then((function(i){t.data=i.data,t.pic=[],t.array=i.data.category,t.imageList=i.data.thumb.split(","),t.displayCate=t.array.filter((function(t){return t.id==i.data.cates}))[0].name,uni.hideLoading()}))},submit:function(){var t=this,i=this,e=this.imageList.length;this.$loading(),0!=e?this.imageList.forEach((function(a,n){if(a.indexOf("blob")>-1)i.$upload(a,"",(function(t){i.pic.push(t);var a=i.pic.length;e==a&&i.submitForm()}));else{i.pic.push(a);var d=t.pic.length;e==d&&i.submitForm()}})):this.$msg("至少需上传一张图片")},submitForm:function(){var t=this,i={uid:this.uid,token:this.token,goodsid:this.goodsid,title:this.data.title,subtitle:this.data.subtitle,unit:this.data.unit,thumb:this.pic.join(","),marketprice:this.data.marketprice,total:this.data.total,weight:this.data.weight,goodsstatus:this.data.goodsstatus,ishot:this.data.ishot,displayorder:this.data.displayorder,cates:this.data.cates},e="&r=api.myshop.goods.doEdit";this.$apiPost(e,i).then((function(i){t.$msg("修改成功"),uni.hideLoading(),setTimeout((function(){t.getDetail()}),500)}))}}};i.default=s}}]);