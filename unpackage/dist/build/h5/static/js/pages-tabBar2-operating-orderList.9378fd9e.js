(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-tabBar2-operating-orderList"],{"1d61":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'.nav-bar[data-v-3c18dec7]{text-align:center;padding-bottom:%?20?%}.nav[data-v-3c18dec7]{color:#afafaf;display:inline-block;width:25%;box-sizing:border-box}.nav.active uni-text[data-v-3c18dec7]{color:#000;position:relative}.nav.active uni-text[data-v-3c18dec7]::before{content:"";position:absolute;bottom:%?-10?%;width:%?50?%;background-color:#ff7379;height:2px;left:50%;margin-left:%?-25?%}.order[data-v-3c18dec7]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.search[data-v-3c18dec7]{background-color:#f7f7f8}.select .order[data-v-3c18dec7]{display:inline-block;vertical-align:middle;width:70%}.select uni-icon[data-v-3c18dec7],\n.select uni-text[data-v-3c18dec7]{display:inline-block;vertical-align:middle}.search>uni-view[data-v-3c18dec7]{background-color:#fff;width:48%;padding:%?10?% 0;margin:0 1%;display:inline-block;vertical-align:middle}.payway[data-v-3c18dec7]{margin-left:%?38?%;border-radius:%?24?%;background-color:#ff6d7e;padding:0 %?10?%;color:#fff}.bottom-border[data-v-3c18dec7]{padding:%?20?% 0;border-bottom:1px solid #f7f7f7}\n/* .top-line{\n\t\n} */.top-line .fr[data-v-3c18dec7]{margin-top:%?20?%}.top-line>uni-view[data-v-3c18dec7],\n.md-line>uni-view[data-v-3c18dec7]{display:inline-block;vertical-align:top}.md-line-word[data-v-3c18dec7]{width:%?560?%}.limit-text[data-v-3c18dec7]{display:inline-block;width:%?400?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.md-line uni-image[data-v-3c18dec7]{height:%?90?%;width:%?90?%;margin-right:%?20?%}.status-line[data-v-3c18dec7]{margin:%?10?% 0}.btn-line[data-v-3c18dec7]{text-align:right}.btn[data-v-3c18dec7]{display:inline-block;font-size:%?28?%;padding:%?10?% %?20?%;border-radius:%?10?%;border:1px solid #eee!important;text-align:center;margin-left:%?15?%;height:auto;line-height:normal;background-color:#fff!important}.btn-primary[data-v-3c18dec7]{background-color:#2caeff!important;color:#fff!important;border:none!important}.item[data-v-3c18dec7]{border-bottom:%?20?% solid #f3f3f3}.remark[data-v-3c18dec7]{padding:%?20?%;width:100%;box-sizing:border-box}.remark uni-text[data-v-3c18dec7],\n.remark uni-textarea[data-v-3c18dec7]{display:inline-block;vertical-align:top}.remark uni-text[data-v-3c18dec7]{width:30%;text-align:center}.remark uni-textarea[data-v-3c18dec7]{width:100%;height:90px;\n\t/* border: 1px dashed #f2f2f2; */padding-left:%?20?%;box-sizing:border-box}',""]),t.exports=e},"421d":function(t,e,i){var a=i("1d61");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3a03d1bc",a,!0,{sourceMap:!1,shadowMode:!1})},"81f0":function(t,e,i){"use strict";i.r(e);var a=i("f19e"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},aeef:function(t,e,i){"use strict";i.r(e);var a=i("bf92"),n=i("81f0");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("bb1a");var o,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"3c18dec7",null,!1,a["a"],o);e["default"]=c.exports},bb1a:function(t,e,i){"use strict";var a=i("421d"),n=i.n(a);n.a},bf92:function(t,e,i){"use strict";var a={uniLoadMore:i("9a2c").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("v-uni-view",{staticClass:"nav-bar"},[a("v-uni-view",{staticClass:"nav nav-right",class:{active:1==t.active},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle(1)}}},[a("v-uni-text",[t._v("待付款")])],1),a("v-uni-view",{staticClass:"nav nav-left",class:{active:2==t.active},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle(2)}}},[a("v-uni-text",[t._v("待发货")])],1),a("v-uni-view",{staticClass:"nav nav-right",class:{active:3==t.active},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle(3)}}},[a("v-uni-text",[t._v("待收货")])],1),a("v-uni-view",{staticClass:"nav nav-left",class:{active:6==t.active},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toggle(6)}}},[a("v-uni-text",[t._v("已完成")])],1)],1),a("v-uni-view",{staticClass:"padding search"},[a("v-uni-view",{staticClass:"select"},[a("v-uni-image",{staticClass:"search-img",attrs:{src:i("5872"),mode:""}}),a("v-uni-input",{staticClass:"order",attrs:{type:"text",placeholder:"订单号"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}},model:{value:t.orderno,callback:function(e){t.orderno=e},expression:"orderno"}})],1),a("v-uni-view",[a("v-uni-input",{attrs:{type:"text",placeholder:"输入关键字"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.search.apply(void 0,arguments)}},model:{value:t.keywords,callback:function(e){t.keywords=e},expression:"keywords"}})],1)],1),a("v-uni-scroll-view",{style:{height:t.sh+"px"},attrs:{"scroll-y":"true",id:"sv"},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.toBottom.apply(void 0,arguments)}}},[t._l(t.dataList,(function(e,i){return a("v-uni-view",{key:i,staticClass:"item"},[a("v-uni-view",{staticClass:" padding"},[a("v-uni-view",{staticClass:"top-line bottom-border"},[a("v-uni-view",{staticClass:"s1 cg"},[a("v-uni-view",[a("v-uni-text",[t._v(t._s(e.orderno))]),a("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:1==e.paytype,expression:"item.paytype==1"}],staticClass:"payway"},[t._v("微信")]),a("v-uni-text",{directives:[{name:"show",rawName:"v-show",value:2==e.paytype,expression:"item.paytype==2"}],staticClass:"payway"},[t._v("支付宝")])],1),a("v-uni-view",[t._v(t._s(e.createtime))])],1)],1),t._l(e.goods,(function(e,i){return a("v-uni-view",{key:i,staticClass:"md-line bottom-border"},[a("v-uni-view",[a("v-uni-image",{attrs:{src:e.goodspic,mode:""}})],1),a("v-uni-view",{staticClass:"md-line-word"},[a("v-uni-view",{staticClass:"s1"},[a("v-uni-text",{staticClass:"limit-text"},[t._v(t._s(e.goodsname))]),a("v-uni-text",{staticClass:"fr cg s1"},[t._v("￥"+t._s(e.goodsprice))])],1),a("v-uni-view",{staticClass:"s2 cg"},[a("v-uni-text",{staticClass:"limit-text"},[t._v("规格:"),a("v-uni-text",{staticClass:"s3 "},[t._v(t._s(e.specifications?e.specifications:"无规格"))])],1),a("v-uni-text",{staticClass:"fr s1"},[t._v("*"+t._s(e.amount))])],1)],1)],1)})),a("v-uni-view",{staticClass:"bottom-border"},[a("v-uni-view",{staticClass:"status-line cg s2"},[a("v-uni-text",[t._v("订单状态")]),"1"==e.status?a("v-uni-text",{staticClass:"fr cr"},[t._v("待支付")]):t._e(),"2"==e.status?a("v-uni-text",{staticClass:"fr cr"},[t._v("待发货")]):t._e(),"3"==e.status?a("v-uni-text",{staticClass:"fr cr"},[t._v("待收货")]):t._e(),"4"==e.status?a("v-uni-text",{staticClass:"fr cr"},[t._v("已取消")]):t._e(),"5"==e.status?a("v-uni-text",{staticClass:"fr cr"},[t._v("待评论")]):t._e(),"6"==e.status?a("v-uni-text",{staticClass:"fr cr"},[t._v("已完成")]):t._e()],1),a("v-uni-view",{staticClass:"status-line cg s2"},[a("v-uni-text",[t._v("买家昵称")]),a("v-uni-text",{staticClass:"fr "},[t._v(t._s(e.nickname))])],1),a("v-uni-view",{staticClass:"status-line cg s2"},[a("v-uni-text",[t._v("配送方式")]),"1"==e.delivery?a("v-uni-text",{staticClass:"fr cblue"},[t._v("快递")]):t._e(),"2"==e.delivery?a("v-uni-text",{staticClass:"fr cblue"},[t._v("自提")]):t._e(),"3"==e.delivery?a("v-uni-text",{staticClass:"fr cblue"},[t._v("其他")]):t._e()],1)],1),a("v-uni-view",{staticClass:"bottom-border s2 cg",staticStyle:{"text-align":"right","padding-right":"30upx"}},[t._v("共"),a("v-uni-text",{staticClass:"cr"},[t._v(t._s(e.totalgoods))]),t._v("件商品 实付:"),a("v-uni-text",{staticClass:"cr"},[t._v("￥"+t._s(e.totalprice))])],1),a("v-uni-view",{staticClass:"bottom-border btn-line"},[a("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active==2"}],staticClass:"btn btn-primary",attrs:{type:"default"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.confirmDoSend(e.orderno)}}},[t._v("确认发货")]),a("v-uni-button",{directives:[{name:"show",rawName:"v-show",value:2==t.active,expression:"active==2"}],staticClass:"btn btn-primary",attrs:{type:"default"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.cancelOrder(e.orderno)}}},[t._v("取消发货")]),a("v-uni-button",{staticClass:"btn ",attrs:{type:"default"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.showRemark(e.remark)}}},[t._v("备注")]),a("v-uni-button",{staticClass:"btn ",attrs:{type:"default"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(e.orderno)}}},[t._v("查看详情")])],1)],2)],1)})),a("uni-load-more",{attrs:{status:t.more}})],2),a("pop",{ref:"order",attrs:{dataList:t.orderList}}),a("prompt",{attrs:{visible:t.promptVisible,title:"备注",useDefault:!1,needCancelBtn:!1,mainColor:"#ff6d7e"},on:{"update:visible":function(e){arguments[0]=e=t.$handleEvent(e),t.promptVisible=e},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.promptVisible=!1}}},[a("v-uni-view",{staticClass:"remark"},[a("v-uni-textarea",{attrs:{placeholder:"",disabled:!0},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}})],1)],1)],1)},s=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}))},f19e:function(t,e,i){"use strict";var a=i("ee27");i("99af"),i("ac1f"),i("841c"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("0e67")),s=a(i("9a2c")),o=a(i("4790")),r={components:{uniLoadMore:s.default,pop:n.default,Prompt:o.default},data:function(){return{promptVisible:!1,uid:"",token:"",active:1,orderList:[{name:"asdasdasds"},{name:"asdasdasds"},{name:"asdasdasds"},{name:"asdasdasds"}],sh:"",dataList:[],page:1,pageSize:5,total:0,more:"",orderno:"",keywords:"",remark:""}},computed:{noMore:function(){return this.dataList.length>=this.total}},onLoad:function(t){var e=this,i=uni.getStorageSync("userInfo");e=this;0!=t.active&&(this.active=t.active),""!=i&null!=i&void 0!=i&&(this.uid=i.uid,this.token=i.token),this.getList(this.page,this.orderno,this.keywords),setTimeout((function(){e.$getHeight("#sv",(function(t){e.sh=t}))}),0)},methods:{choosed:function(t){uni.$off("popChoosed")},open:function(){var t=this;uni.$on("popChoosed",(function(e){t.choosed(e)})),this.$refs.order.show=!0},toDetail:function(t){uni.navigateTo({url:"./orderDetail?orderno="+t})},toggle:function(t){this.active=t,this.reset(),this.getList(this.page,this.orderno,this.keywords)},reset:function(){this.page=1,this.total=0,this.orderno="",this.keywords="",this.dataList=[],this.more=""},getList:function(t,e,i){var a=this,n={status:this.active,page:t,pagesize:this.pageSize,uid:this.uid,token:this.token,orderno:e,keywords:i};1==this.page&&this.$loading();var s="&r=api.myshop.orders";this.$apiPost(s,n).then((function(t){a.total=t.total,a.dataList=a.dataList.concat(t.data),a.more="",1==a.page&&uni.hideLoading()}))},toBottom:function(){if(this.noMore)this.more="noMore";else{var t=this;this.more="loading",t.page++,t.getList(t.page,this.orderno,this.keywords)}},search:function(){this.page=1,this.total=0,this.dataList=[],this.more="",this.getList(this.page,this.orderno,this.keywords)},cancelOrder:function(t){var e=this,i={uid:this.uid,token:this.token,orderno:t},a="&r=api.myshop.orders.cancelSend";this.$apiPost(a,i).then((function(t){e.$msg("取消成功"),e.search()}))},confirmDoSend:function(t){this.$loading();var e=this,i={uid:this.uid,token:this.token,orderno:t},a="&r=api.myshop.orders.doSend";this.$apiPost(a,i).then((function(t){e.$msg("发货成功"),uni.hideLoading(),e.search()}))},showRemark:function(t){this.remark=t||"无备注",this.promptVisible=!0}}};e.default=r}}]);