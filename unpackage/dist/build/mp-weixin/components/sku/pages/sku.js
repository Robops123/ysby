(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/sku/pages/sku"],{"2a80":function(t,e,o){"use strict";var n=o("d923"),s=o.n(n);s.a},"8d0a":function(t,e,o){"use strict";(function(t){function n(t,e){return r(t)||i(t,e)||u(t,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var o=[],n=!0,s=!1,i=void 0;try{for(var r,c=t[Symbol.iterator]();!(n=(r=c.next()).done);n=!0)if(o.push(r.value),e&&o.length===e)break}catch(a){s=!0,i=a}finally{try{n||null==c["return"]||c["return"]()}finally{if(s)throw i}}return o}}function r(t){if(Array.isArray(t))return t}function c(t){return d(t)||f(t)||u(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return h(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?h(t,e):void 0}}function f(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return h(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=function(){o.e("components/sku/components/other/stepper").then(function(){return resolve(o("5a19"))}.bind(null,o)).catch(o.oe)},p={props:["category","total","goodsid","defaultImg","defaultPrice"],components:{stepper:l},data:function(){return{specClass:"none",selectArr:[],selectNum:1,categorys:"",choosedid:[],marketPrice:"",stock:"",goodsImg:""}},mounted:function(){this.categorys=this.category,this.stock=Number(this.total),this.$forceUpdate()},methods:{skuClick:function(t,e,o){var n=this;this.selectNum=1,this.categorys[e].item.map((function(t,e){return t.choosed=e==o&&!t.choosed})),this.choosedid=[],this.selectArr=[],this.categorys.forEach((function(t,e){t.item.forEach((function(t,e){t.choosed&&(n.choosedid.push(t.itemid),n.selectArr.push(t.itemtitle))}))})),this.getActualRest()},getActualRest:function(){var t=this,e="&r=api.goods.detail.skustock&goodsid="+this.goodsid+"&specitemid="+this.choosedid.join(",");this.$apiPost(e).then((function(e){t.marketPrice=e.data.marketprice,t.stock=Number(e.data.stock)||0,t.goodsImg=e.data.thumb,t.$forceUpdate()}))},checkInpath:function(t){for(var e=0,o=this.specifications.length;e<o;e++)if(e!=t)for(var n=this.specifications[e].item.length,s=0;s<n;s++)if(-1==this.subIndex[e]||s!=this.subIndex[e]){var i=c(this.selectArr);this.$set(i,e,this.specifications[e].item[s].name);var r=i.filter((function(t){return""!==t&&"undefined"!==typeof t}));this.shopItemInfo.hasOwnProperty(r)?this.$set(this.specifications[e].item[s],"ishow",!0):this.$set(this.specifications[e].item[s],"ishow",!1)}},checkItem:function(){var t=this;this.difference.reduce((function(e,o){return e.concat(o.difference.reduce((function(e,n){return e.concat(e.map((function(e){return t.shopItemInfo.hasOwnProperty([].concat(c(e),[n]))||(t.shopItemInfo[[].concat(c(e),[n])]=o),[].concat(c(e),[n])})))}),[[]]))}),[[]])},getData:function(e){var o=this;Promise.all([t.request({url:"https://www.easy-mock.com/mock/5d351e87b5e1f213739d6498/shop/productDetail",method:"POST",data:{spuid:e}}),t.request({url:"https://www.easy-mock.com/mock/5d351e87b5e1f213739d6498/shop/getspec",method:"POST",data:{spuid:e}}),t.request({url:"https://www.easy-mock.com/mock/5d351e87b5e1f213739d6498/shop/getsku",method:"POST",data:{spuid:e}})]).then((function(t){var e=n(t,3),s=n(e[0],2),i=(s[0],s[1]),r=n(e[1],2),c=(r[0],r[1]),a=n(e[2],2),u=(a[0],a[1]);1===i.data.status&&(o.product=i.data.product),1===c.data.status&&(o.specifications=c.data.specifications,o.specifications.map((function(t){o.selectArr.push(""),o.subIndex.push(-1)}))),1===u.data.status&&(o.difference=u.data.difference,o.checkItem(),o.checkInpath(-1))})).catch((function(t){return console.log(t)}))},toggleSpec:function(){this.specClass="show"},moveHandle:function(){},closeSf:function(){var e=this;this.specClass="hide",t.$emit("closeSku"),setTimeout((function(){e.specClass="none"}),250)},changeNum:function(t){this.selectNum=parseInt(t)},confirmChoose:function(){var t=this,e={selectArr:this.selectArr.join(","),selectNum:this.selectNum,choosedid:this.choosedid,marketPrice:this.marketPrice,goodsImg:this.goodsImg,stock:this.stock};this.$emit("completeSpecChoose",e),this.specClass="hide",setTimeout((function(){t.specClass="none"}),250)}}};e.default=p}).call(this,o("543d")["default"])},"9e8b":function(t,e,o){"use strict";var n,s=function(){var t=this,e=t.$createElement,o=(t._self._c,"show"==t.specClass?t.selectArr.join(","):null);t.$mp.data=Object.assign({},{$root:{g0:o}})},i=[];o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){return n}))},a3ea:function(t,e,o){"use strict";o.r(e);var n=o("8d0a"),s=o.n(n);for(var i in n)"default"!==i&&function(t){o.d(e,t,(function(){return n[t]}))}(i);e["default"]=s.a},d923:function(t,e,o){},e937:function(t,e,o){"use strict";o.r(e);var n=o("9e8b"),s=o("a3ea");for(var i in s)"default"!==i&&function(t){o.d(e,t,(function(){return s[t]}))}(i);o("2a80");var r,c=o("f0c5"),a=Object(c["a"])(s["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=a.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/sku/pages/sku-create-component',
    {
        'components/sku/pages/sku-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("e937"))
        })
    },
    [['components/sku/pages/sku-create-component']]
]);
