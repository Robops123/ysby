(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/sharePrompt/sharePrompt"],{"69ce":function(e,t,n){"use strict";n.r(t);var o=n("fd01"),i=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=i.a},"74f1":function(e,t,n){"use strict";var o=n("e90a"),i=n.n(o);i.a},"8a17":function(e,t,n){"use strict";n.r(t);var o=n("8f8e"),i=n("69ce");for(var r in i)"default"!==r&&function(e){n.d(t,e,(function(){return i[e]}))}(r);n("74f1");var s,a=n("f0c5"),c=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);t["default"]=c.exports},"8f8e":function(e,t,n){"use strict";var o,i=function(){var e=this,t=e.$createElement;e._self._c},r=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}))},e90a:function(e,t,n){},fd01:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n("4795"));function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n,o,i,r,s){try{var a=e[r](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(o,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,c,"next",e)}function c(e){r(s,o,i,a,c,"throw",e)}a(void 0)}))}}var a={props:{uid:{type:String},token:{type:String},goodsid:{type:String,default:""},show:{type:Boolean,default:!1},shareImg:{type:String},shareTitle:{type:String},shareContent:{type:String}},data:function(){return{popshow:!1,providerList:[],shareType:0,shareText:"嘎哈",visible:!1,spopshow:!1,advImg:"",popupShow:!0}},mounted:function(){this.popshow=this.show,console.log(this.popshow),this.getProvider()},watch:{show:function(e){console.log(e),this.popshow=e}},methods:{getProvider:function(){var t=this;e.getProvider({service:"share",success:function(e){console.log("success",e);for(var n=[],o=0;o<e.provider.length;o++)switch(e.provider[o]){case"weixin":n.push({name:"微信",way:5,id:"weixin",sort:0}),n.push({name:"朋友圈",id:"weixin",way:0,type:"WXSenceTimeline",sort:1});break;default:break}t.providerList=n.sort((function(e,t){return e.sort-t.sort}))},fail:function(t){console.log("获取分享通道失败",t),e.showModal({content:"获取分享通道失败",showCancel:!1})}})},share:function(t){var n=this;return s(o.default.mark((function i(){var r;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:n.$loading(),r={provider:t.id,extra:{scene:"WXSceneSession"},scene:t.type&&"WXSenceTimeline"===t.type?"WXSenceTimeline":"WXSceneSession",type:t.way,success:function(t){console.log("success",t),e.showModal({content:"分享成功",showCancel:!1})},fail:function(t){console.log("fail",t),e.showModal({content:"分享失败",showCancel:!1})},complete:function(){e.hideLoading(),console.log("分享操作结束!")}},o.t0=t.way,o.next=0===o.t0?5:1===o.t0?10:2===o.t0?12:5===o.t0?14:18;break;case 5:return r.summary="好玩",r.imageUrl=n.shareImg?n.shareImg:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/share-logo@3.png",r.title=n.shareTitle,r.href="https://uniapp.dcloud.io",o.abrupt("break",19);case 10:return r.summary=n.shareText,o.abrupt("break",19);case 12:return r.imageUrl=n.image,o.abrupt("break",19);case 14:return r.imageUrl=n.shareImg?n.shareImg:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/share-logo@3.png",r.title=n.shareTitle+"买啊",r.miniProgram={id:"gh_33446d7f7a26",path:"/pages/tabBar/component/component",webUrl:"https://uniapp.dcloud.io",type:0},o.abrupt("break",19);case 18:return o.abrupt("break",19);case 19:1===r.type&&"qq"===r.provider&&(r.href="https://uniapp.dcloud.io",r.title="欢迎体验uniapp"),e.share(r);case 21:case"end":return o.stop()}}),i)})))()},createPoster:function(){this.$loading();var t=this,n={uid:this.uid,token:this.token,goodsid:this.goodsid},o="&r=api.common.share.createPoster";this.$apiPost(o,n).then((function(n){t.$emit("poster",n.data.img),t.close(),e.hideLoading()}))},saveImg:function(t){var n=this;n.$loading(),e.downloadFile({url:t,success:function(t){200===t.statusCode&&e.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){n.$msg("保存成功，请到相册中查看"),n.visible=!1},fail:function(){n.$msg("保存失败")},complete:function(){e.hideLoading()}})}})},close:function(){this.popshow=!1,this.$emit("close")}}};t.default=a}).call(this,n("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/sharePrompt/sharePrompt-create-component',
    {
        'components/sharePrompt/sharePrompt-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("8a17"))
        })
    },
    [['components/sharePrompt/sharePrompt-create-component']]
]);
