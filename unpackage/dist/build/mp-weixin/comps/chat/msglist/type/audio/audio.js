(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["comps/chat/msglist/type/audio/audio"],{"34de":function(t,n,i){"use strict";var o;i.d(n,"b",(function(){return e})),i.d(n,"c",(function(){return a})),i.d(n,"a",(function(){return o}));var e=function(){var t=this,n=t.$createElement;t._self._c},a=[]},"50ed":function(t,n,i){"use strict";i.r(n);var o=i("34de"),e=i("7a48");for(var a in e)"default"!==a&&function(t){i.d(n,t,(function(){return e[t]}))}(a);i("eacf");var s,u=i("f0c5"),c=Object(u["a"])(e["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);n["default"]=c.exports},"7a48":function(t,n,i){"use strict";i.r(n);var o=i("8684"),e=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(n,t,(function(){return o[t]}))}(a);n["default"]=e.a},8684:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=i("c445"),e=i("b150"),a={components:{},props:{msg:{type:Object,val:{}}},data:function(){return{playStatus:e,curStatus:e.STOP,style:"",time:"0'",opcity:1,comps:{audioCtx:null},inter:function(){},onPlaying:function(){},onPause:function(){},onDone:function(){},onTimeUpdate:function(){},onWait:function(){}}},beforeMount:function(){this.time=this.msg.msg.length+"''",this.style=this.msg.style},beforeDestroy:function(){var t=this.comps.audioCtx=o.getCtx(this.msg.mid);this.audioPause(t),this.delEvent()},created:function(){},onReady:function(){var n=this,i=this.comps.audioCtx=o.getCtx(this.msg.mid);i.autoplay=!1,i.loop=!1,this.onPlaying=function(){n.curStatus=e.PLAYING,n.inter&&clearInterval(n.inter),n.inter=setInterval((function(){var t=n.opcity;n.opcity=1==t?.4:1}),500)},this.onPause=function(){parseInt(n.time,10)<1||(n.curStatus=e.PAUSE,n.opcity=1)},this.onDone=function(){n.curStatus=e.STOP,n.opcity=1,clearInterval(n.inter)},this.onTimeUpdate=function(){n.time=(i.currentTime>>0)+"'"},this.onWait=function(){t.showToast({title:"下载中...",duration:1e3})},this.addEvent()},methods:{audioPlay:function(){var n=this;console.log(this.inter),this.inter&&clearInterval(this.inter);var i=this.comps.audioCtx,o="";this.msg.msg.local_url?(i.src=this.msg.msg.local_url,i.play()):t.downloadFile({url:this.msg.msg.data,header:{"X-Requested-With":"XMLHttpRequest",Accept:"audio/mp3",Authorization:"Bearer "+this.msg.msg.token},success:function(t){o=t.tempFilePath,n.msg.msg.local_url=t.tempFilePath,i.src=o,i.play()},fail:function(n){console.log("downloadFile failed",n),t.showToast({title:"下载失败",duration:1e3})}})},audioPause:function(t){var n=this.comps.audioCtx=o.getCtx(this.msg.mid)||t;n&&n.pause()},addEvent:function(){var t=this.comps.audioCtx;t.onPlay(this.onPlaying),t.onPause(this.onPause),t.onWaiting(this.onPause),t.onStop(this.onDone),t.onEnded(this.onDone),t.onError(this.onDone),t.onWaiting(this.onWait)},delEvent:function(){var t=this.comps.audioCtx;t.offPlay(this.onPlaying),t.offPause(this.onPause),t.offWaiting(this.onPause),t.offStop(this.onDone),t.offEnded(this.onDone),t.offError(this.onDone),t.offWaiting(this.onWait)}}};n.default=a}).call(this,i("543d")["default"])},"9a41":function(t,n,i){},eacf:function(t,n,i){"use strict";var o=i("9a41"),e=i.n(o);e.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'comps/chat/msglist/type/audio/audio-create-component',
    {
        'comps/chat/msglist/type/audio/audio-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("50ed"))
        })
    },
    [['comps/chat/msglist/type/audio/audio-create-component']]
]);
