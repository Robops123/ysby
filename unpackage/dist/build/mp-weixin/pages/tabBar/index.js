(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/index"],{1220:function(t,n,i){"use strict";i.r(n);var e=i("7b59"),a=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(n,t,(function(){return e[t]}))}(o);n["default"]=a.a},"1b07":function(t,n,i){"use strict";(function(t){i("fabc");e(i("66fd"));var n=e(i("4bca"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,i("543d")["createPage"])},"4bca":function(t,n,i){"use strict";i.r(n);var e=i("dac2"),a=i("1220");for(var o in a)"default"!==o&&function(t){i.d(n,t,(function(){return a[t]}))}(o);i("e44b");var s,c=i("f0c5"),u=Object(c["a"])(a["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],s);n["default"]=u.exports},"7b59":function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(){i.e("components/uni-rate/uni-rate").then(function(){return resolve(i("1006"))}.bind(null,i)).catch(i.oe)},a=function(){i.e("components/uni-status-bar/uni-status-bar").then(function(){return resolve(i("039e"))}.bind(null,i)).catch(i.oe)},o={components:{uniRate:e,uniStatusBar:a},data:function(){return{logined:!1,uid:"",token:"",keywords:"",productList:[{name:"睡眠用品",type:1,imgUrl:"../../static/img/pic/index/icon6.png"},{name:"出行用品",type:2,imgUrl:"../../static/img/pic/index/icon2.png"},{name:"浴室用品",type:3,imgUrl:"../../static/img/pic/index/icon8.png"},{name:"幼教玩具",type:4,imgUrl:"../../static/img/pic/index/icon7.png"},{name:"哺乳用品",type:5,imgUrl:"../../static/img/pic/index/icon1.png"},{name:"护理用品",type:6,imgUrl:"../../static/img/pic/index/icon5.png"},{name:"服饰鞋帽",type:7,imgUrl:"../../static/img/pic/index/icon3.png"},{name:"孕产用品",type:8,imgUrl:"../../static/img/pic/index/icon9.png"},{name:"更多分类",type:9,imgUrl:"../../static/img/pic/index/icon4.png"},{name:"在线客服",type:10,imgUrl:"../../static/img/pic/index/icon10.png"}],hotList:[],noticeList:[],carouselList:[],bargainList:[],bannerList:[],businessList:[],lng:"",lat:"",city:""}},mounted:function(){var n=this,i=t.getStorageSync("userInfo");""!=i&null!=i&void 0!=i?(this.logined=!0,this.uid=i.uid,this.token=i.token):this.logined=!1,t.$on("logined",(function(){var i=t.getStorageSync("userInfo");n.logined=!0,n.uid=i.uid,n.token=i.token})),this.getHotList(),this.getNotice(),this.getCarsouselList(),this.getBargain(),this.getBanner(),this.getNearbyBusiness()},methods:{search:function(){t.navigateTo({url:"/pages/index/searchResult?keyword=".concat(this.keywords)})},toCategory:function(n){t.navigateTo({url:"/pages/index/goodsCategory?type=".concat(n)})},toDetail:function(n){t.navigateTo({url:"/pages/index/goodsDetail?id=".concat(n)})},getNotice:function(t){var n=this,i=this,e="&r=api.home.notice";this.$apiPost(e).then((function(t){i.noticeList=t.data})).catch((function(t){n.$msg(t)}))},getHotList:function(t){var n=this,i=this,e="&r=api.home.goods.hotsale";this.$apiPost(e).then((function(t){i.hotList=t.data.category})).catch((function(t){n.$msg(t)}))},getCarsouselList:function(t){var n=this,i=this,e="&r=api.home.banner";this.$apiPost(e).then((function(t){i.carouselList=t.data})).catch((function(t){n.$msg(t)}))},getBargain:function(){var t=this,n=this,i="&r=api.home.goods.bargain";this.$apiPost(i).then((function(t){n.bargainList=t.data})).catch((function(n){t.$msg(n)}))},getBanner:function(){var t=this,n=this,i="&r=api.home.adv";this.$apiPost(i).then((function(t){n.bannerList=t.data})).catch((function(n){t.$msg(n)}))},reLocate:function(){var n=this;t.showModal({title:"提示",content:"重新获取定位?",success:function(){n.getNearbyBusiness()}})},getNearbyBusiness:function(){var n=this;t.getLocation({type:"wgs84",geocode:!0,success:function(t){n.city=t.address.city,n.lng=t.longitude,n.lat=t.latitude,n.getNearBy(t)},fail:function(t){n.getNearBy({}),n.$msg("请打开定位功能")}})},getNearBy:function(t){var n=this,i="&r=api.home.merchant",e={lng:t.longitude||"",lat:t.latitude||""},a=this;this.$apiPost(i,e).then((function(t){a.businessList=t.data.map((function(t){return t.distance=parseInt(t.distance),t}))})).catch((function(t){n.$msg(t)}))},addCollect:function(t){var n=this.$operateInterceptor(this.logined);if(n){var i=this,e={uid:this.uid,token:this.token,goodsid:t},a="&r=api.member.cart.add";this.$apiPost(a,e).then((function(t){i.$msg("添加成功")}))}},toShop:function(n){t.navigateTo({url:"/pages/bussiness/shopPreview?id=".concat(n)})},toGoodsDetail:function(n,i){t.navigateTo({url:"/pages/index/goodsDetail?id="+n+"&merchId="+i})}}};n.default=o}).call(this,i("543d")["default"])},d7d2:function(t,n,i){},dac2:function(t,n,i){"use strict";var e={uniRate:function(){return i.e("components/uni-rate/uni-rate").then(i.bind(null,"1006"))}},a=function(){var t=this,n=t.$createElement;t._self._c},o=[];i.d(n,"b",(function(){return a})),i.d(n,"c",(function(){return o})),i.d(n,"a",(function(){return e}))},e44b:function(t,n,i){"use strict";var e=i("d7d2"),a=i.n(e);a.a}},[["1b07","common/runtime","common/vendor"]]]);