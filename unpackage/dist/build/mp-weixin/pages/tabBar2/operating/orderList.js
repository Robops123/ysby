(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar2/operating/orderList"],{"31f1":function(t,e,n){"use strict";var i={uniLoadMore:function(){return n.e("components/uni-load-more/uni-load-more").then(n.bind(null,"9a2c"))}},o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.promptVisible=!1})},s=[];n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return i}))},"81f0":function(t,e,n){"use strict";n.r(e);var i=n("a09c"),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a},"9bd3":function(t,e,n){"use strict";var i=n("c856"),o=n.n(i);o.a},a09c:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){n.e("components/promptOptions/pop").then(function(){return resolve(n("0e67"))}.bind(null,n)).catch(n.oe)},o=function(){n.e("components/uni-load-more/uni-load-more").then(function(){return resolve(n("9a2c"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/zz-prompt/index").then(function(){return resolve(n("4790"))}.bind(null,n)).catch(n.oe)},r={components:{uniLoadMore:o,pop:i,Prompt:s},data:function(){return{promptVisible:!1,promptVisible2:!1,uid:"",token:"",active:0,orderList:[{name:"asdasdasds"},{name:"asdasdasds"},{name:"asdasdasds"},{name:"asdasdasds"}],sh:"",dataList:[],page:1,pageSize:5,total:0,more:"",orderno:"",keywords:"",remark:"",current:0,expressno:"",deliveryArray:[],sendOrderNo:""}},computed:{noMore:function(){return this.dataList.length>=this.total}},onLoad:function(e){var n=this,i=t.getStorageSync("userInfo");n=this;this.active=e.active,""!=i&null!=i&void 0!=i&&(this.uid=i.uid,this.token=i.token),this.getList(this.page,this.orderno,this.keywords),this.getDeliverList(),setTimeout((function(){n.$getHeight("#sv",(function(t){n.sh=t}))}),0)},methods:{choosed:function(e){t.$off("popChoosed")},open:function(){var e=this;t.$on("popChoosed",(function(t){e.choosed(t)})),this.$refs.order.show=!0},toDetail:function(e){t.navigateTo({url:"./orderDetail?orderno="+e})},toggle:function(t){this.active=t,this.reset(),this.getList(this.page,this.orderno,this.keywords)},reset:function(){this.page=1,this.total=0,this.orderno="",this.keywords="",this.dataList=[],this.more=""},getList:function(e,n,i){var o=this,s={status:this.active,page:e,pagesize:this.pageSize,uid:this.uid,token:this.token,orderno:n,keywords:i};1==this.page&&this.$loading();var r="&r=api.myshop.orders";this.$apiPost(r,s).then((function(e){o.total=e.total,o.dataList=o.dataList.concat(e.data),o.more="",1==o.page&&t.hideLoading()}))},toBottom:function(){if(this.noMore)this.more="noMore";else{var t=this;this.more="loading",t.page++,t.getList(t.page,this.orderno,this.keywords)}},search:function(){this.page=1,this.total=0,this.dataList=[],this.more="",this.getList(this.page,this.orderno,this.keywords)},cancelOrder:function(t){var e=this,n={uid:this.uid,token:this.token,orderno:t},i="&r=api.myshop.orders.cancelSend";this.$apiPost(i,n).then((function(t){e.$msg("取消成功"),e.search()}))},openSend:function(t){this.sendOrderNo=t,this.promptVisible2=!0},confirmDoSend:function(){var e=this;this.$loading();var n=this,i={uid:this.uid,token:this.token,orderno:this.sendOrderNo,expressno:this.expressno,expressname:this.deliveryArray[this.current]},o="&r=api.myshop.orders.doSend";this.$apiPost(o,i).then((function(i){e.promptVisible2=!1,e.sendReset(),t.hideLoading(),n.$msg("发货成功"),n.search()}))},sendReset:function(){this.expressno="",this.current=0},showRemark:function(t){this.remark=t||"无备注",this.promptVisible=!0},bindPickerChange:function(t){this.current=t.detail.value},getDeliverList:function(){var t=this,e="&r=api.myshop.orders.getExpressCompany",n={uid:this.uid,token:this.token};this.$apiPost(e,n).then((function(e){t.deliveryArray=e.data.map((function(t){return t.expressname}))}))}}};e.default=r}).call(this,n("543d")["default"])},aeef:function(t,e,n){"use strict";n.r(e);var i=n("31f1"),o=n("81f0");for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n("9bd3");var r,a=n("f0c5"),d=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=d.exports},c03f:function(t,e,n){"use strict";(function(t){n("fabc");i(n("66fd"));var e=i(n("aeef"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},c856:function(t,e,n){}},[["c03f","common/runtime","common/vendor"]]]);