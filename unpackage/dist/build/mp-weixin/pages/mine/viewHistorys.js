(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/viewHistorys"],{"2d41":function(t,e,i){"use strict";var o={uniLoadMore:function(){return i.e("components/uni-load-more/uni-load-more").then(i.bind(null,"9a2c"))}},n=function(){var t=this,e=t.$createElement;t._self._c},a=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o}))},3249:function(t,e,i){"use strict";i.r(e);var o=i("b54d"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);e["default"]=n.a},4046:function(t,e,i){},"65cb":function(t,e,i){"use strict";var o=i("4046"),n=i.n(o);n.a},7924:function(t,e,i){"use strict";(function(t){i("fabc");o(i("66fd"));var e=o(i("c649"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])},b54d:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){i.e("components/uni-load-more/uni-load-more").then(function(){return resolve(i("9a2c"))}.bind(null,i)).catch(i.oe)},n=function(){i.e("components/sku/pages/sku").then(function(){return resolve(i("e937"))}.bind(null,i)).catch(i.oe)},a={components:{uniLoadMore:o,sku:n},data:function(){return{defaultPrice:0,defaultImg:"",id:"",category:[],receivedCategory:!1,totalsku:0,operate:!1,today:"",date:"",uid:"",token:"",active:1,tabActive:0,sh:"",dataList:[],page:1,pageSize:10,total:0,more:""}},computed:{noMore:function(){return this.dataList.length>=this.total}},onLoad:function(e){this.date=e.date;var i=this,o=t.getStorageSync("userInfo"),n=new Date;this.today=n.toLocaleDateString().replace(/\//gi,"-"),""!=o&null!=o&void 0!=o&&(this.uid=o.uid,this.token=o.token,this.getList(this.page)),setTimeout((function(){i.$getHeight("#sv",(function(t){i.sh=t}))}),0)},onNavigationBarButtonTap:function(){this.toggleOperation()},methods:{distributionOrderdetail:function(){t.navigateTo({url:"/pages/distributionOrderdetail/distributionOrderdetail"})},toGoodsDetail:function(e){t.navigateTo({url:"/pages/index/goodsDetail?id=".concat(e)})},to:function(e){t.navigateTo({url:"/pages/retail/".concat(e)})},back:function(){t.navigateBack({delta:1})},toggle:function(t){this.active=t,this.reset(),this.getList(this.page)},reset:function(){this.page=1,this.total=0,this.dataList=[],this.more=""},getList:function(e){var i=this,o={uid:this.uid,token:this.token,page:e,pagesize:this.pageSize,createdate:this.date};1==this.page&&this.$loading();var n="&r=api.member.footprint.detail";this.$apiPost(n,o).then((function(e){i.total=e.total,i.dataList=i.dataList.concat(e.data),i.more="",1==i.page&&t.hideLoading()}))},toBottom:function(){if(this.noMore)this.more="noMore";else{var t=this;this.more="loading",t.page++,t.getList(t.page)}},deleteCollect:function(e,i){var o=this,n={uid:this.uid,token:this.token,goodsid:e},a="&r=api.member.footprint.remove";this.$apiPost(a,n).then((function(e){o.$msg("移除成功"),o.dataList.splice(i,1),t.$emit("deleteRecord")}))},toggleOperation:function(){this.operate=!this.operate},getCategory:function(e,i,o){this.defaultImg=i,this.defaultPrice=o.split(" - ")[0],this.$loading(),this.id=e;var n=this,a="&r=api.goods.detail.sku&goodsid="+e;this.$apiPost(a).then((function(e){n.category=e.data,n.totalsku=e.stock,n.receivedCategory=!0,n.$nextTick((function(){n.$refs.sku.specClass="show",t.hideLoading()}))}))},completeSpecChoose:function(t){this.addCollect(this.id,t.choosedid.join(","),t.selectArr),this.receivedCategory=!1},addCollect:function(e,i,o){this.$loading();var n=this,a={uid:this.uid,token:this.token,goodsid:e,specifications:o,skuidsort:i},s="&r=api.member.cart.add";this.$apiPost(s,a).then((function(e){t.hideLoading(),n.$msg("添加成功")}))}}};e.default=a}).call(this,i("543d")["default"])},c649:function(t,e,i){"use strict";i.r(e);var o=i("2d41"),n=i("3249");for(var a in n)"default"!==a&&function(t){i.d(e,t,(function(){return n[t]}))}(a);i("65cb");var s,r=i("f0c5"),u=Object(r["a"])(n["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=u.exports}},[["7924","common/runtime","common/vendor"]]]);